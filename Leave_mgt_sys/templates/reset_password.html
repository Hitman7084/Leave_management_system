{% extends "index.html" %}
{% load static %}
{% block title %}Reset Password{% endblock %}

{% block content %}
<div class="reset-password-container">
    <h2>Reset Password</h2>
    <form method="POST" action="{% url 'reset_password' %}">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_email">Email:</label>
            <input type="email" name="email" class="form-reset" required id="id_email">
        </div>
        <div class="form-group">
            <label for="id_reset_token">OTP:</label>
            <input type="text" name="reset_token" class="form-reset" required id="id_reset_token">
        </div>
        <div class="form-group">
            <label for="id_new_password">New Password:</label>
            <input type="password" name="new_password" class="form-reset" required id="id_new_password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=]).{8,}">
            <span class="password-icon" onclick="togglePasswordVisibility('id_new_password')">&#128065;</span>
        </div>
        <div class="form-group">
            <label for="id_confirm_password">Confirm Password:</label>
            <input type="password" name="confirm_password" class="form-reset" required id="id_confirm_password">
            <span class="password-icon" onclick="togglePasswordVisibility('id_confirm_password')">&#128065;</span>
        </div>
        <button type="submit">Reset Password</button>
    </form>
</div>

<script>
    function togglePasswordVisibility(id) {
        var input = document.getElementById(id);
        if (input.type === "password") {
            input.type = "text";
        } else {
            input.type = "password";
        }
    }
</script>
{% endblock %}